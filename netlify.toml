[build]
  # Base directory for the build
  base = "web"

  # Build command - prebuild script will copy updates automatically
  command = "npm run build"

  # Publish directory - required by plugin, must differ from base directory
  # The @netlify/plugin-nextjs will handle the actual deployment
  publish = ".next"

[build.environment]
  # Node.js version (Next.js requires >= 18.17.0)
  NODE_VERSION = "20.11.0"

# Use Netlify's Next.js runtime
# Temporarily disabled - plugin validation bug with publish directory
# [[plugins]]
#   package = "@netlify/plugin-nextjs"

# Scheduled Functions
# Note: Scheduled functions are configured in Netlify UI under Functions > Scheduled functions
# This section documents the configuration for reference
#
# Function: scheduled-daily-update
# Schedule: 0 9 * * * (9:00 AM daily, cron syntax)
# Timezone: America/Los_Angeles (PT)
#
# Required Environment Variables:
# - ANTHROPIC_API_KEY
# - GITHUB_TOKEN (for committing updates)
# - NOTIFICATION_EMAIL (optional, for error alerts)
